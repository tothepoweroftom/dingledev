webpackJsonp([1],{"73tj":function(e,t){},"7QMf":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s=n("//Fk"),o=n.n(s),a=n("Zrlr"),r=n.n(a),h=n("wxAW"),c=n.n(h),d=n("Ml+6"),l=n("+ZkK"),u=new(function(){function e(){r()(this,e),this.files=["static/models/dingle_detail.obj"],this.modelNames=["dingle"],this.index=0,this.models=[],this.instance=this}return c()(e,[{key:"loadFiles",value:function(){var e=this,t=new l.a;return new o.a(function(n,i){for(var s=0,o=function(o){t.load(e.files[o],function(t){var i={};i.name=e.modelNames[o],i.obj=t,e.models.push(i),(s+=1)===e.files.length&&n()},function(e){},function(e){console.log("An error happened"),console.log(e),i()})},a=0;a<e.files.length;a++)o(a)})}}]),e}()),m=n("nS2H"),f=(n("5r0X"),n("R5/K"),n("cENj")),p=n.n(f),w=function(){function e(t){r()(this,e),p.a?console.log("WEBGL"):document.body.appendChild(WEBGL.getWebGLErrorMessage());var n=document.getElementById("container");t.width=n.clientWidth,t.height=n.clientHeight,this.width=t.width,this.height=t.height,this.size={width:this.width,height:this.height},this.time=0,this.scene=new d.J,this.scene.background=new d.d(0),this.scene.fog=new d.m(0,.1);var i=new d.L(50,32,32),s=new d.u({color:1118481,transparent:!0,opacity:.1,side:d.i}),o=new d.t(i,s);o.position.set(0,0,0),this.scene.add(o),this.lights=this.buildLights(this.scene),this.camera=this.buildCamera(this.width,this.height),this.renderer=this.buildRender(this.width,this.height),this.composer=new m.b(this.renderer),this.noiseEffect=new m.d({blendFunction:m.a.COLOR_DODGE}),this.noiseEffect.blendMode.opacity.value=.3,this.effectPass=new m.c(this.camera,this.noiseEffect),this.effectPass.renderToScreen=!0,this.composer.addPass(new m.e(this.scene,this.camera)),this.composer.addPass(this.effectPass)}return c()(e,[{key:"buildLights",value:function(e){var t=new d.M("#aa0000",1);t.position.y=0,t.position.x=0,t.position.z=0,e.add(t);var n=new d.M("#00aa00",1);n.position.y=0,n.position.x=0,n.position.z=0,e.add(n);var i=new d.M("#0000aa",1);return i.position.y=0,i.position.x=0,i.position.z=0,e.add(i),[t,n,i]}},{key:"buildCamera",value:function(e,t){var n=e/t,i=new d.B(75,n,1,1200);return i.position.set(-25,2,-25),i.lookAt(new d.R(-3,0,-2)),i}},{key:"buildRender",value:function(e,t){var n=new d.V({canvas:canvas,antialias:!0,alpha:!0}),i=window.devicePixelRatio?window.devicePixelRatio:1;return n.setPixelRatio(i),n.setSize(e,t),n.setClearColor(0,0),n.gammaInput=!0,n.gammaOutput=!0,n}},{key:"loadModel",value:function(){this.model=u.models[0],console.log(this.model),this.model.obj.children[0].scale.set(1,1.5,1),this.model.obj.children[0].material=new d.x({color:16777215,emissive:1,side:d.i,roughness:0}),this.model.obj.position.set(0,0,0),this.scene.add(this.model.obj)}},{key:"update",value:function(e,t,n){this.composer.render(this.scene,this.camera),this.time+=.01,this.model.obj.rotation.y+=5e-7*(t-this.camera.position.x);for(var i=0;i<this.lights.length;i++)this.lights[i].position.x=50*Math.sin(this.time*(i+1)*1.57),this.lights[i].position.z=50*Math.cos(this.time*(i+1)*1.57)}}]),e}(),v={name:"App",mounted:function(){var e=this;u.loadFiles().then(function(){var t=document.getElementById("canvas");document.getElementById("loading").style.display="none",e.scene=new w(t),e.scene.loadModel(),e.clock=new d.c,e.render()}).catch(function(e){console.warn(e)}),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),document.addEventListener("touchstart",this.onDocumentTouchStart,!1),document.addEventListener("touchmove",this.onDocumentTouchMove,!1)},methods:{render:function(){requestAnimationFrame(this.render);var e=this.clock.getDelta();e<1&&this.scene.update(e,this.mouseX,this.mouseY)},onDocumentMouseMove:function(e){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,this.mouseX=e.clientX-this.windowHalfX,this.mouseY=e.clientY-this.windowHalfY},onDocumentTouchStart:function(e){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,1===e.touches.length&&(e.preventDefault(),this.mouseX=e.touches[0].pageX-this.windowHalfX,this.mouseY=e.touches[0].pageY-this.windowHalfY)},onDocumentTouchMove:function(e){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,1===e.touches.length&&(e.preventDefault(),this.mouseX=e.touches[0].pageX-this.windowHalfX,this.mouseY=e.touches[0].pageY-this.windowHalfY)}},data:function(){return{scene:null,clock:null,mouseX:0,mouseY:0,windowHalfX:0,windowHalfY:0}}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("router-view")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"container"}},[t("div",{attrs:{id:"loading"}},[t("h1",[this._v(" Loading Files")])]),this._v(" "),t("div",{attrs:{id:"title-text"}}),this._v(" "),t("canvas",{attrs:{id:"canvas"}})])}]};var b=n("VU/8")(v,g,!1,function(e){n("7QMf")},null,null).exports,H=n("/ocq"),M=(n("p3C9"),{name:"LandingPage",mounted:function(){},components:{Scrollama:n("viM2").a},data:function(){return{currStep:null,currStepProgress:null}}}),_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-container"}},[n("Scrollama",{attrs:{offset:1,debug:!0,progress:!0},on:{"step-enter":function(t){var n=t.element;return e.currStep=n.dataset.stepNo},"step-exit":function(t){return t.element,e.currStep=null},"step-progress":function(t){var n=t.progress;return e.currStepProgress=n}}},e._l(4,function(t){return n("div",{key:t,staticClass:"step",class:{active:t==e.currStep},attrs:{"data-step-no":t}},[n("div",[e._v("step "+e._s(t))]),e._v(" "),n("div",[e._v(e._s(Math.round(100*e.currStepProgress))+"%")])])}),0)],1)},staticRenderFns:[]};var y=n("VU/8")(M,_,!1,function(e){n("73tj")},null,null).exports;i.a.use(H.a);var E=new H.a({routes:[{path:"/",name:"LandingPage",component:y}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:E,components:{App:b},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.3f776c03c66295563ec3.js.map